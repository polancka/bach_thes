import 'package:flutter/material.dart';
import 'styles.dart';
import 'package:bach_thes/models/peak.dart'

class PeakList extends StatelessWidget {
final List<Peak> peaks;

  PeakList(this.peaks); //constructor

  @override
  Widget build(BuildContext context) {
    //build function
    return Scaffold(
      appBar: AppBar(
          //defining what the appbar should look like
          title: Text(
        "Peaks",
        style: Styles.navbarTitle,
      )),
      body: ListView.builder(
        itemCount: this.peaks.length, //this. just to be explicit
        itemBuilder: _listViewItemBuilder,
      ),
    ); //Scaffold draws a blank screen
  }

  // void callback function that happens on tap on the tile, takes no parameters
  // each onTap function must follow that lead
  void _navigateToPeakDetail(BuildContext context, Peak peak) {
    Navigator.push(
        //adds the page to the stack, MaterialPageRoute determines to which screen it goes
        context,
        MaterialPageRoute(builder: (context) => PeakDetail(peak)));
  }

  Widget _listViewItemBuilder(BuildContext context, int index) {
    var peak = this.peaks[index];
    return ListTile(
      contentPadding: EdgeInsets.all(10.0),
      leading: _itemThumbnail(peak),
      title: _itemTitle(peak),
      //onTap: () => _navigateToLocationDetail(context, location),
    );
  }

  Widget _itemThumbnail(Peak peak) {
    return Container(
      constraints: BoxConstraints.tightFor(width: 100.0),
      child: Image.network(peak.urlThumbnail, fit: BoxFit.fitWidth),
    );
  }

  Widget _itemTitle(Location location) {
    return Text('Peak name is ${peak.name}', style: Styles.textDefault);
  }
}